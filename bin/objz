#!/usr/bin/env python3
# This file is placed in the Public Domain.


"objects"


import os
import sys


sys.path.insert(0, os.getcwd())


from objz.command import Commands, Event, command, scanner
from objz.package import Mods


Mods.dir("mods", "mods")


def wrapped(func):
    try:
        func()
    except (KeyboardInterrupt, EOFError):
        print("")


def main():
    l = len(sys.argv)
    if l <= 1:
        os._exit(0)
    scanner()
    evt = Event()
    if l >= 2:
        evt.cmd = sys.argv[1]
    if l > 2:
        evt.args = sys.argv[2:]
    if evt.args:
        evt.rest =  " ".join(evt.args)
        evt.txt  = " ".join(evt.args)
    command(evt)


if __name__ == "__main__":
    wrapped(main)
    